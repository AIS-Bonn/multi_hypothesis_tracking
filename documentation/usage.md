# Usage

This package depends on the [multi_hypothesis_tracker_msgs](https://github.com/AIS-Bonn/multi_hypothesis_tracking_msgs) package.

The master branch provides the functionality to track objects subscribing to detections either in the [multi_hypothesis_tracker_msgs/ObjectDetections](https://github.com/AIS-Bonn/multi_hypothesis_tracking_msgs/tree/master/msg/ObjectDetections.msg) format or in the geometry_msgs/PoseArray format.

Exemplary [nodes](../src/nodes) are provided, showing how to feed the detections to the tracker.  
- The [multi_hypothesis_tracking_node_for_pose_arrays](../src/nodes/multi_hypothesis_tracking_node_for_pose_arrays.cpp) serves as a minimal example subscribing to PoseArray messages.  
- The [multi_hypothesis_tracker_node_for_sparse_lidar](../src/nodes/multi_hypothesis_tracking_node_for_sparse_lidar.cpp) was utilized for our paper ["Detection and Tracking of Small Objects in Sparse 3D Laser Range Data"](https://arxiv.org/abs/1903.05889) subscribing to ObjectDetections messages.

The *multi_human_tracking* branch provides an additional node to track human poses.  
The [Demo](#demo) section provides details for this use case.

# Install

Clone both packages into your catkin workspace and build them the usual way.  
The packages were tested on Ubuntu 18.04 and ROS Melodic.

# Demo 

For a demo of the functionality on real recorded data switch to the *multi_human_tracking* branch.  
This branch provides an additional node that uses the [person_msgs](https://github.com/AIS-Bonn/SmartEdgeSensor3DHumanPose/tree/main/person_msgs) generated by the [SmartEdgeSensor3DHumanPose](https://github.com/AIS-Bonn/SmartEdgeSensor3DHumanPose) estimation method to track multiple humans.  

Download/clone and build the [person_msgs](https://github.com/AIS-Bonn/SmartEdgeSensor3DHumanPose/tree/main/person_msgs) package and the multi_human_tracking branch of this package.  
Download the [recorded data](https://github.com/AIS-Bonn/multi_hypothesis_tracking_data) and adapt the path to the bag file in the [human_tracking_visualization.launch](https://github.com/AIS-Bonn/multi_hypothesis_tracking/tree/multi_human_tracking/launch/human_tracking_visualization.launch) file.  
Launch the launch file to see the demo in Rviz. 
